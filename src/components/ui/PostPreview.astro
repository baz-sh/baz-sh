---
import type { CollectionEntry } from 'astro:content';
import { formatDate } from '@/lib/utils';
import { render } from 'astro:content';

interface Props {
  entry: CollectionEntry<'posts'>;
}

const { entry } = Astro.props;
const { remarkPluginFrontmatter } = await render(entry);
---

<a 
  href={`/writing/${entry.id}/`} 
  class="group flex items-baseline gap-6 py-4 -mx-4 px-4 rounded-lg hover:bg-card transition-colors"
>
  <time class="text-sm text-text-muted shrink-0 w-28 tabular-nums">
    {formatDate(entry.data.date)}
  </time>
  <div class="flex-1 min-w-0">
    <h2 class="text-headings font-medium group-hover:text-accent transition-colors truncate">
      {entry.data.title}
    </h2>
    <span class="text-sm text-text-muted">{remarkPluginFrontmatter.minutesRead}</span>
  </div>
</a>
