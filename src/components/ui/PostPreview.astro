---
import type { CollectionEntry } from 'astro:content';
import { formatDate } from '@/lib/utils';
import { render } from 'astro:content';

interface Props {
  entry: CollectionEntry<'posts'>;
}

const { entry } = Astro.props;
const { remarkPluginFrontmatter } = await render(entry);
---

<a 
  href={`/writing/${entry.id}/`} 
  class="group flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-6 py-4 -mx-4 px-4 rounded-lg hover:bg-card transition-colors"
>
  <time class="hidden sm:block text-sm text-text-muted shrink-0 w-28 tabular-nums">
    {formatDate(entry.data.date)}
  </time>
  <div class="flex-1 min-w-0">
    <h2 class="text-headings font-medium group-hover:text-accent transition-colors">
      {entry.data.title}
    </h2>
    <div class="text-sm text-text-muted">
      <span class="sm:hidden">{formatDate(entry.data.date)} Â· </span>
      <span>{remarkPluginFrontmatter.minutesRead}</span>
    </div>
  </div>
</a>
